StrayWatch - Build Prompt
Build a community safety web application called "StrayWatch" for tracking stray dog populations, bite incidents, and garbage/litter hotspots in Leh, Ladakh. The app should use Astro framework with React islands and Supabase for backend.

Tech Stack
Framework: Astro 5.x with React islands architecture
Backend: Supabase (authentication + PostgreSQL database)
Styling: Tailwind CSS v4 with Shadcn/ui components
Map: Leaflet with OpenStreetMap tiles
State Management: Zustand for auth, TanStack Query for data fetching
Core Features
1. Interactive Map
Display an interactive map centered on Leh, Ladakh (34.1526, 77.5771)
Show all reports as circle markers with color coding:
Amber/Yellow: Stray dog sightings
Red: Bite incidents
Green/Emerald: Garbage hotspots
Marker size based on count/severity
Click markers to see report details in popup
2. Report Submission
Floating action button to add new reports
Report types: Sighting, Bite, Garbage
Fields: location (lat/lng), count, severity, notes
Location selection: click on map or use current GPS location
Only authenticated users can submit reports
3. Authentication
Email/password sign up and sign in
Google OAuth (optional)
Auth modal with tabs for sign in/sign up
Persistent sessions
4. User Profile
View user's own reports
Edit or delete own reports
Account information display
Database Schema (Supabase)
CREATE TABLE reports (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  type TEXT NOT NULL CHECK (type IN ('sighting', 'bite', 'garbage')),
  lat DOUBLE PRECISION NOT NULL,
  lng DOUBLE PRECISION NOT NULL,
  count INTEGER DEFAULT 1 NOT NULL,
  severity TEXT,
  notes TEXT,
  user_id UUID REFERENCES auth.users(id),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW() NOT NULL
);
-- Row Level Security
ALTER TABLE reports ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Allow public read" ON reports FOR SELECT USING (true);
CREATE POLICY "Allow authenticated insert" ON reports FOR INSERT WITH CHECK (auth.uid() IS NOT NULL);
CREATE POLICY "Allow users to update own" ON reports FOR UPDATE USING (auth.uid() = user_id);
CREATE POLICY "Allow users to delete own" ON reports FOR DELETE USING (auth.uid() = user_id);

Project Structure
src/
├── pages/
│   ├── index.astro        # Main map page
│   ├── landing.astro      # Landing/welcome page
│   └── profile.astro      # User profile page
├── layouts/
│   └── Layout.astro       # Common HTML layout
├── components/
│   ├── HomeIsland.tsx     # Main map React island
│   ├── LeafletMap.tsx     # Map component
│   ├── ReportForm.tsx     # Report submission form
│   ├── AuthModal.tsx      # Sign in/sign up modal
│   ├── ProfileIsland.tsx  # Profile page island
│   └── ui/                # Shadcn/ui components
├── lib/
│   ├── supabase.ts        # Supabase client + auth helpers
│   ├── api.ts             # Data fetching functions
│   ├── store.ts           # Zustand auth store
│   └── utils.ts           # Utility functions
├── hooks/
│   ├── use-toast.ts       # Toast notifications
│   └── use-mobile.tsx     # Mobile detection
└── index.css              # Tailwind + custom styles

Key Implementation Details
Astro Configuration
Use client:only="react" directive for React islands to avoid SSR issues with Leaflet
Configure Vite aliases for @/ (src) and @shared/ paths
Use @tailwindcss/vite plugin for Tailwind CSS
Environment Variables
VITE_SUPABASE_URL - Your Supabase project URL
VITE_SUPABASE_ANON_KEY - Your Supabase anonymous key
Supabase Client Setup
import { createClient } from '@supabase/supabase-js';
const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;
export const supabase = createClient(supabaseUrl, supabaseAnonKey);

Leaflet Map Notes
Import Leaflet CSS in Layout.astro from CDN
Use client:only="react" to prevent SSR window errors
Custom circle markers with color based on report type
UI/UX Requirements
Mobile-first responsive design
Clean, modern interface with subtle shadows and rounded corners
Stats display showing total counts for each report type
Toast notifications for user actions
Loading states and error handling
Design System
Fonts: Inter (body), Roboto Slab (headings)
Colors:
Primary: Blue (#3B82F6)
Sighting: Amber (#F59E0B)
Bite: Red (#EF4444)
Garbage: Emerald (#10B981)
Border radius: 0.5rem base